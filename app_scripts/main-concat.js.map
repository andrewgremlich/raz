{"version":3,"file":"main-concat.js","sources":["app_modules/Canvas.js","app_modules/Enemy.js","app_modules/Player.js","app_modules/endgame.js","main.js"],"sourcesContent":["/**************************\nCANVAS PROTOTYPE CONSTRUCTOR\n ***************************/\n\nfunction Canvas() {\n    this.canvasElement = document.getElementById('myCanvas')\n    this.ctx = this.canvasElement.getContext('2d')\n    this.width = this.canvasElement.width\n    this.height = this.canvasElement.height\n}\n\n/*Prototype method to draw the borders on the canvas.  Purely decorative*/\n\nCanvas.prototype.drawBorders = function () {\n    this.ctx.beginPath()\n    this.ctx.moveTo(2, 2)\n    this.ctx.lineTo(this.width - 2, 2)\n    this.ctx.lineTo(this.width - 2, this.height - 2)\n    this.ctx.lineTo(2, this.height - 2)\n    this.ctx.lineTo(2, 2)\n    this.ctx.stroke()\n}\n\n/*\nClear the frame for the framerate.\n*/\n\nCanvas.prototype.clearFrame = function () {\n    this.ctx.clearRect(0, 0, this.width, this.height)\n}\n\nexport default Canvas\n","/**************************\nENEMY PROTOTYPE CONSTRUCTOR\n***************************/\nfunction Enemy(x, y) {\n    this.width = 10\n    this.height = 10\n    this.xMotionSpeed = 4\n    this.yMotionSpeed = 2\n    this.radius = 10\n    this.x = x\n    this.y = y\n    this.collisions = 0\n}\n\n/*\nDraw the enemy circle on the canvas element.\n*/\n\nEnemy.prototype.drawEnemy = function (ctx) {\n    ctx.beginPath()\n    ctx.arc(this.x, this.y, this.radius + this.collisions * 1.5, 0, Math.PI * 2)\n    ctx.fillStyle = '#a73838'\n    ctx.fill()\n    ctx.closePath()\n}\n\n/*\nAutomatic motion of the enemy circle.\n*/\n\nEnemy.prototype.updateEnemyPosition = function () {\n    this.x += this.xMotionSpeed\n    this.y += this.yMotionSpeed\n}\n\n/*\nAutomatic and size incrementing motion of the enemy.  Each time that the enemy\ntouches a wall the enemy grows.\n*/\n\nEnemy.prototype.collision = function (cwidth, cheight) {\n\n    var xPos = this.x + this.xMotionSpeed,\n        yPos = this.y + this.yMotionSpeed,\n        collisionFactor = this.collisions * 1.5\n\n    /*The collision of an expanding circle is being detected half the time.*/\n\n    if (xPos > cwidth - this.radius - collisionFactor || xPos < this.radius + collisionFactor) {\n        this.xMotionSpeed = -this.xMotionSpeed\n        this.collisions = this.collisions + 2\n    }\n    if (yPos > cheight - this.radius - collisionFactor || yPos < this.radius + collisionFactor) {\n        this.yMotionSpeed = -this.yMotionSpeed\n        this.collisions = this.collisions + 2\n    }\n\n}\n\nexport default Enemy\n","/***************************\nPLAYER PROTOTYPE CONSTRUCTOR\n****************************/\n\nfunction Player(x, y) {\n    this.width = 10\n    this.height = 10\n    this.x = x\n    this.y = y\n    this.xMotionSpeed = 0\n    this.yMotionSpeed = 0\n    this.radius = 10\n}\n\n/*\nDraw player.  It's just a circle for now.\n*/\n\nPlayer.prototype.drawPlayer = function (ctx) {\n    ctx.beginPath()\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2)\n    ctx.fillStyle = '#558bb8'\n    ctx.fill()\n    ctx.closePath()\n}\n\n/*\nPlayer motion according to the arrow controls in the movePlayer method\n*/\n\nPlayer.prototype.updatePlayerPosition = function () {\n    this.x += this.xMotionSpeed\n    this.y += this.yMotionSpeed\n}\n\n/*\nEvaluate collision of the player with the edges of the play area.\n*/\n\nPlayer.prototype.collision = function (cwidth, cheight) {\n\n    var xPos = this.x + this.xMotionSpeed,\n        yPos = this.y + this.yMotionSpeed\n\n    if (xPos > cwidth - this.radius || xPos < this.radius) this.xMotionSpeed = -this.xMotionSpeed\n    if (yPos > cheight - this.radius || yPos < this.radius) this.yMotionSpeed = -this.yMotionSpeed\n}\n\n/*\nDirectional control with the arrow keys.\n*/\n\nPlayer.prototype.movePlayer = function () {\n\n    var that = this\n\n    document.onkeydown = function (e) {\n\n        /*To make a static speed instead of a steady acceleration\n         */\n\n        that.xMotionSpeed = 0\n        that.yMotionSpeed = 0\n\n        let keyCode = e.keyCode || e.which,\n            stringKey = keyCode.toString(),\n            move = {\n                '37': function () {\n                    /*arrow left*/\n                    that.xMotionSpeed = that.xMotionSpeed - 2\n                    socket.emit('go left', that)\n                },\n                '38': function () {\n                    /*arrow up*/\n                    that.yMotionSpeed = that.yMotionSpeed - 2\n                    socket.emit('go up', that)\n                },\n                '39': function () {\n                    /*arrow right*/\n                    that.xMotionSpeed = that.xMotionSpeed + 2\n                    socket.emit('go right', that)\n                },\n                '40': function () {\n                    /*arrow down*/\n                    that.yMotionSpeed = that.yMotionSpeed + 2\n                    socket.emit('go down', that)\n                }\n            }\n\n        move[stringKey]()\n    }\n\n    document.onkeyup = function () {\n\n        that.xMotionSpeed = 0\n        that.yMotionSpeed = 0\n\n        socket.emit('reset motion', that)\n\n    }\n}\n\nexport default Player\n","/*End game function.*/\nfunction endgame(player, enemy) {\n\n    var enemyRadius = enemy.radius + enemy.collisions * 1.5,\n        playerRadius = player.radius,\n        middleEvalExpr = Math.pow(player.x - enemy.x, 2) + Math.pow(player.y - enemy.y, 2),\n        lowerEval = Math.pow(playerRadius - enemyRadius, 2) <= middleEvalExpr,\n        higherEval = middleEvalExpr <= Math.pow(playerRadius + enemyRadius, 2)\n\n    if (lowerEval && higherEval) {\n        setTimeout(() => {\n            clearInterval(window.inter)\n            document.querySelector('#login').style.display = 'flex'\n            document.querySelector('#canvasContainer').style.display = 'none'\n        }, 1)\n    }\n\n}\n\nexport default endgame\n","import Canvas from './app_modules/Canvas.js'\nimport Enemy from './app_modules/Enemy.js'\nimport Player from './app_modules/Player.js'\nimport endgame from './app_modules/endgame.js'\n\nvar socket = io()\n\n/*OBJECTS*/\n\ndocument.querySelector('canvas').width = window.innerWidth\ndocument.querySelector('canvas').height = window.innerHeight\n\n/*OBJECT OFF OF PROTOTYPES*/\n\nvar canvas = new Canvas()\n\nfunction drawOtherPlayers(ctx, pos) {\n\n    //        ctx.clearRect(0, 0, this.width, this.height)\n\n    ctx.beginPath()\n    ctx.arc(pos.x, pos.y, pos.radius, 0, Math.PI * 2)\n    ctx.fillStyle = '#55b877'\n    ctx.fill()\n    ctx.closePath()\n}\n\n/*SOCKET CONNECTION*/\n\nsocket.on('user connected', e => {\n    console.log(\"user connected\", e)\n})\n\nsocket.on('lobbyUser', e => {\n    console.log(e)\n})\n\nsocket.on('on left', e => {\n    drawOtherPlayers(canvas.ctx, e)\n})\n\nsocket.on('on up', e => {\n    drawOtherPlayers(canvas.ctx, e)\n})\n\nsocket.on('on right', e => {\n    drawOtherPlayers(canvas.ctx, e)\n})\n\nsocket.on('on down', e => {\n    drawOtherPlayers(canvas.ctx, e)\n})\n\nsocket.on('on reset', e => {\n    drawOtherPlayers(canvas.ctx, e)\n})\n\nsocket.on('user left', e => {\n    console.log(e)\n})\n\n/*FRAME RATE*/\n\nfunction frameRate(renderingObject) {\n\n    let canvas = renderingObject.canvas,\n        player = renderingObject.player\n        //            enemy = renderingObject.enemy()\n\n    canvas.clearFrame()\n    canvas.drawBorders()\n\n    player.drawPlayer(canvas.ctx)\n        //        enemy.drawEnemy(canvas.ctx)\n\n    player.updatePlayerPosition()\n        //        enemy.updateEnemyPosition()\n\n    player.collision(canvas.width, canvas.height)\n        //      enemy.collision(canvas.width, canvas.height)\n\n\n    /*Pass into the function the positional data of the player and the enemy.*/\n    //      endgame(player, enemy)\n}\n\n/*****\nEVENTS\n******/\n\ndocument.querySelector('input[type=\"button\"]').onclick = e => {\n    let srcElement = e.target || e.srcElement,\n        textInput = srcElement.previousElementSibling,\n        username = textInput.value,\n        parent = srcElement.parentElement,\n        aunt = parent.nextElementSibling\n\n    /*GAME START MECHANICS*/\n\n    socket.emit('add user to game', username);\n\n    socket.on('login', e => {\n\n        let xPos = e.clientData.player.x,\n            yPos = e.clientData.player.y,\n            renderingObject = {\n                'canvas': canvas,\n                'player': new Player(xPos, yPos)\n            }\n\n        parent.style.display = 'none'\n        aunt.style.display = 'block'\n\n        renderingObject.player.movePlayer()\n\n        window.inter = setInterval(() => {\n            frameRate(renderingObject)\n        }, 10)\n\n    })\n}\n"],"names":["socket"],"mappings":"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"}